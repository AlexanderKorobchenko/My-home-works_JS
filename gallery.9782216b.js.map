{"version":3,"sources":["module_8/js/app.js","module_8/js/gallery.js"],"names":["preview","original","description","ulGalleryEl","document","querySelector","modalWindowEl","bigImg","ItemCreateEl","galleryItems","map","onOpenModalWindow","event","preventDefault","target","nodeName","classList","add","src","dataset","source","alt","onControlClick","action","prevImg","nextImg","closeModalWindow","onControlKey","value","includes","keyCode","findCurrentElement","index","i","children","length","href","remove","insertAdjacentHTML","join","addEventListener","window"],"mappings":"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","file":"gallery.9782216b.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","// импортируем массив картинок\nimport galleryItems from './app.js';\n\n// элементы HTML, к которым будем обращаться\nconst ulGalleryEl = document.querySelector('ul.js-gallery');\nconst modalWindowEl = document.querySelector('div.js-lightbox')\nconst bigImg = modalWindowEl.querySelector('img.lightbox__image');\n\n// создание разметки HTML\nconst ItemCreateEl = galleryItems.map(({ preview, original, description }) => {\n    return `<li class=\"gallery__item\">\n                <a\n                    class=\"gallery__link\"\n                    href=\"${original}\"\n                >\n                    <img\n                        class=\"gallery__image\"\n                        src=\"${preview}\"\n                        data-source=\"${original}\"\n                        alt=\"${description}\"\n                    />\n                </a>\n            </li>`;\n});\n\nulGalleryEl.insertAdjacentHTML('afterbegin', ItemCreateEl.join(' '));\n\n// слушатели событий\nulGalleryEl.addEventListener('click', onOpenModalWindow);\nmodalWindowEl.addEventListener('click', onControlClick);\nwindow.addEventListener('keydown', onControlKey);\n\n// открытие модалки\nfunction onOpenModalWindow(event) {\n    event.preventDefault(); // отмена действий по умолчанию (переход по ссылке)\n\n    if (event.target.nodeName !== 'IMG') {\n        return;\n    };\n\n    modalWindowEl.classList.add('is-open');\n\n    bigImg.src = event.target.dataset.source;\n    bigImg.alt = event.target.alt;\n\n};\n\n// управление кликами при открытой модалке\nfunction onControlClick(event) {\n    if (event.target.dataset.action === 'prev-lightbox') {\n        prevImg();\n    };\n\n    if (event.target.dataset.action === 'next-lightbox') {\n        nextImg();\n    };\n\n    if (event.target.dataset.action !== 'close-lightbox' && event.target.nodeName !== 'DIV') {\n        return;\n    };\n\n    closeModalWindow();\n};\n\n// управление клавишами при открытой модалке\nfunction onControlKey(event) {\n    if (modalWindowEl.classList.value.includes('is-open')) {\n        if (event.keyCode === 27) {\n            //console.log('esc');\n            closeModalWindow();\n        };\n        \n        if (event.keyCode === 37) {\n            //console.log('влево');\n            prevImg();\n        };\n\n        if (event.keyCode === 39) {\n            //console.log('вправо');\n            nextImg();\n        };\n    };\n};\n\n// поиск в списке элемента, который отображается на модалке в текущий момент\nfunction findCurrentElement() {\n    let index;\n\n    for (let i = 0; i < ulGalleryEl.children.length; i++) {\n        if (ulGalleryEl.children[i].children[0].href === bigImg.src) {\n            index = i;\n            break;\n        }\n    }\n\n    return index;\n};\n\n// пред. картинка на модалке\nfunction prevImg() {\n    const index = findCurrentElement();\n\n    if (index === 0) {\n        bigImg.src = ulGalleryEl.children[ulGalleryEl.children.length-1].children[0].children[0].dataset.source;\n        bigImg.alt = ulGalleryEl.children[ulGalleryEl.children.length-1].children[0].children[0].alt;\n    }\n    \n    else {\n        bigImg.src = ulGalleryEl.children[index - 1].children[0].children[0].dataset.source;\n        bigImg.alt = ulGalleryEl.children[index - 1].children[0].children[0].alt;\n    };\n};\n\n// след. картинка на модалке\nfunction nextImg() {\n    const index = findCurrentElement();\n\n    if (index === ulGalleryEl.children.length-1) {\n        bigImg.src = ulGalleryEl.children[0].children[0].children[0].dataset.source;\n        bigImg.alt = ulGalleryEl.children[0].children[0].children[0].alt;\n    }\n\n    else {\n        bigImg.src = ulGalleryEl.children[index + 1].children[0].children[0].dataset.source;\n        bigImg.alt = ulGalleryEl.children[index + 1].children[0].children[0].alt;\n    };\n};\n\n// закрытие модалки\nfunction closeModalWindow() {\n    modalWindowEl.classList.remove('is-open');\n    bigImg.src = '';\n    bigImg.alt = '';\n};"]}